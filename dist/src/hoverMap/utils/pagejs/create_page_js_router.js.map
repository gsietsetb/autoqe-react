{"version":3,"sources":["../../../../../src/hoverMap/utils/pagejs/create_page_js_router.js"],"names":["createPageJsRouter","serverPath","page","gotoRoute","router","userRoutes","initialRouteDispatch","routeAction","Object","keys","forEach","routePath","routeName","routeContext","routeParams","assign","params","routeFullPath","pathname","undefined","__DEV__","window","start","dispatch","click","popstate"],"mappings":";;;;;kBAEwBA,kB;;AAFxB;;;;;;AAEe,SAASA,kBAAT,CAA4BC,UAA5B,EAAwC;AACrD,MAAMC,OAAO,4BAAb;;AAEA,SAAO;AACLC,eAAWD,IADN;;AAGLE,UAHK,kBAGEC,UAHF,EAGcC,oBAHd,EAGoCC,WAHpC,EAGiD;AACpDC,aAAOC,IAAP,CAAYJ,UAAZ,EAAwBK,OAAxB,CAAgC,qBAAa;AAC3C,YAAMC,YAAYN,WAAWO,SAAX,CAAlB;AACAV,aAAKS,SAAL,EAAgB,UAACE,YAAD,CAAa,UAAb,EAA4B;AAC1C,cAAMC,cAAcN,OAAOO,MAAP,CAAc,EAAd,EAAkBF,aAAaG,MAA/B,CAApB;AACA,cAAMC,gBAAgBJ,aAAaK,QAAnC;AACAX,sBAAY,EAACK,oBAAD,EAAYD,oBAAZ,EAAuBG,wBAAvB,EAAoCG,4BAApC,EAAZ;AACD,SAJD;AAKD,OAPD;;AASA;AACA,UAAIhB,eAAekB,SAAf,IAA4BlB,eAAe,IAA3C,IAAoDmB,WAAW,OAAOC,MAAP,KAAkB,WAArF,EAAmG;AACjGnB,aAAKoB,KAAL,CAAW,EAACC,UAAUjB,oBAAX,EAAiCkB,OAAO,KAAxC,EAAX;AACD,OAFD,MAEO;AACLtB,aAAKoB,KAAL,CAAW,EAACC,UAAU,KAAX,EAAkBE,UAAU,KAA5B,EAAmCD,OAAO,KAA1C,EAAX;AACA,YAAIlB,oBAAJ,EAA0B;AACxBJ,eAAKD,UAAL;AACD;AACF;AACF;AAtBI,GAAP;AAwBD","file":"create_page_js_router.js","sourcesContent":["import createPage from './create_page.js';\n\nexport default function createPageJsRouter(serverPath) {\n  const page = createPage();\n\n  return {\n    gotoRoute: page,\n\n    router(userRoutes, initialRouteDispatch, routeAction) {\n      Object.keys(userRoutes).forEach(routeName => {\n        const routePath = userRoutes[routeName];\n        page(routePath, (routeContext/*, next*/) => {\n          const routeParams = Object.assign({}, routeContext.params);\n          const routeFullPath = routeContext.pathname;\n          routeAction({routeName, routePath, routeParams, routeFullPath});\n        });\n      });\n\n      // (__DEV__ && typeof window !== 'undefined') easier to test server rendering on the client\n      if (serverPath === undefined || serverPath === null || (__DEV__ && typeof window !== 'undefined')) {\n        page.start({dispatch: initialRouteDispatch, click: false});\n      } else {\n        page.start({dispatch: false, popstate: false, click: false});\n        if (initialRouteDispatch) {\n          page(serverPath);\n        }\n      }\n    }\n  };\n}\n\n"]}