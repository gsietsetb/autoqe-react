{"version":3,"sources":["../../../../src/hoverMap/utils/text.js"],"names":["_","require","re_not_","re_not_link_","create_selection_replacer","str","splitted","split","filter","s","re","RegExp","join","txt","replace","module","exports","remove_tags","value","encode_object_properties","obj","reduce","memo","v","k","isString","encodeURIComponent","encode_link_object_properties","decl_num","number","cases"],"mappings":"AAAA;;AAEA,IAAIA,IAAIC,QAAQ,YAAR,CAAR;;AAEA,IAAIC,UAAU,8BAAd;AACA,IAAIC,eAAe,kCAAnB;;AAGA,IAAIC,4BAA4B,SAA5BA,yBAA4B,CAACC,GAAD,EAAS;AACvC,MAAIC,WAAWD,IAAIE,KAAJ,CAAUL,OAAV,CAAf;AACAI,aAAWN,EAAEQ,MAAF,CAASF,QAAT,EAAmB,UAACG,CAAD;AAAA,WAAOA,MAAI,EAAX;AAAA,GAAnB,CAAX;;AAEA,MAAIC,KAAK,IAAIC,MAAJ,CAAW,SAAOL,SAASM,IAAT,CAAc,OAAd,CAAP,GAA8B,IAAzC,EAA+C,IAA/C,CAAT;AACA,SAAO,UAACC,GAAD;AAAA,WAAUA,IAAIC,OAAJ,CAAYJ,EAAZ,EAAgB,qBAAhB,CAAV;AAAA,GAAP;AACD,CAND;;AAQAK,OAAOC,OAAP,CAAeZ,yBAAf,GAA2CA,yBAA3C;;AAEAW,OAAOC,OAAP,CAAeC,WAAf,GAA6B,UAACC,KAAD,EAAW;AACtC,MAAIR,KAAK,cAAT;AACA,SAAOQ,MAAMJ,OAAN,CAAcJ,EAAd,EAAkB,EAAlB,CAAP;AACD,CAHD;;AAKAK,OAAOC,OAAP,CAAeG,wBAAf,GAA0C,UAACC,GAAD,EAAS;AACjD,SAAOpB,EAAEqB,MAAF,CAASD,GAAT,EAAc,UAACE,IAAD,EAAOC,CAAP,EAAUC,CAAV,EAAgB;AACnCF,SAAKE,CAAL,IAAUxB,EAAEyB,QAAF,CAAWF,CAAX,IAAgBG,mBAAmBH,CAAnB,CAAhB,GAAwCA,CAAlD;AACA,WAAOD,IAAP;AACD,GAHM,EAGJ,EAHI,CAAP;AAID,CALD;;AAOAP,OAAOC,OAAP,CAAeW,6BAAf,GAA+C,UAACP,GAAD,EAAS;AACtD,SAAOpB,EAAEqB,MAAF,CAASD,GAAT,EAAc,UAACE,IAAD,EAAOC,CAAP,EAAUC,CAAV,EAAgB;AACnCF,SAAKE,CAAL,IAAUxB,EAAEyB,QAAF,CAAWF,CAAX,IAAgBG,mBAAmBH,EAAET,OAAF,CAAUX,YAAV,EAAwB,GAAxB,CAAnB,CAAhB,GAAmEoB,CAA7E;AACA,WAAOD,IAAP;AACD,GAHM,EAGJ,EAHI,CAAP;AAID,CALD;;AAOAP,OAAOC,OAAP,CAAeY,QAAf,GAA0B,UAACC,MAAD,EAAY;AACpC,MAAIC,QAAQ,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,CAAZ;AACA,SAAQD,SAAO,GAAP,GAAW,CAAX,IAAgBA,SAAO,GAAP,GAAW,EAA5B,GAAiC,CAAjC,GAAqCC,MAAOD,SAAO,EAAP,GAAU,CAAX,GAAcA,SAAO,EAArB,GAAwB,CAA9B,CAA5C;AACD,CAHD","file":"text.js","sourcesContent":["'use strict';\n\nvar _ = require('underscore');\n\nvar re_not_ = /[^а-яА-ЯёЁa-zA-Z0-9_\\.\\,]+/ig;\nvar re_not_link_ = /[^а-яА-ЯёЁa-zA-Z0-9_\\-\\.\\,\\:]+/ig;\n\n\nvar create_selection_replacer = (str) => {\n  var splitted = str.split(re_not_);\n  splitted = _.filter(splitted, (s) => s!==\"\");\n\n  var re = new RegExp('((?:'+splitted.join(')|(?:')+'))', 'ig');\n  return (txt) =>  txt.replace(re, '<strong>$1</strong>');\n};\n\nmodule.exports.create_selection_replacer = create_selection_replacer;\n\nmodule.exports.remove_tags = (value) => {\n  var re = /<(.|\\n)*?>/ig;\n  return value.replace(re, '');\n};\n\nmodule.exports.encode_object_properties = (obj) => {\n  return _.reduce(obj, (memo, v, k) => {\n    memo[k] = _.isString(v) ? encodeURIComponent(v) : v;\n    return memo;\n  }, {});\n};\n\nmodule.exports.encode_link_object_properties = (obj) => {\n  return _.reduce(obj, (memo, v, k) => {\n    memo[k] = _.isString(v) ? encodeURIComponent(v.replace(re_not_link_, '_')) : v;\n    return memo;\n  }, {});\n};\n\nmodule.exports.decl_num = (number) => {\n  var cases = [2, 0, 1, 1, 1, 2];\n  return (number%100>4 && number%100<20)? 2 : cases[(number%10<5)?number%10:5];\n};\n\n\n"]}