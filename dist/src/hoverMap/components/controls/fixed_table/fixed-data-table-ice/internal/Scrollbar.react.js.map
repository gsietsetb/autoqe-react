{"version":3,"sources":["../../../../../../../../src/hoverMap/components/controls/fixed_table/fixed-data-table-ice/internal/Scrollbar.react.js"],"names":["DOMMouseMoveTracker","require","Keys","React","ReactComponentWithPureRenderMixin","ReactWheelHandler","cssVar","cx","emptyFunction","translateDOMPositionXY","PropTypes","UNSCROLLABLE_STATE","position","scrollable","FACE_MARGIN","parseInt","FACE_MARGIN_2","FACE_SIZE_MIN","KEYBOARD_SCROLL_AMOUNT","_lastScrolledScrollbar","Scrollbar","createClass","displayName","mixins","propTypes","contentSize","number","isRequired","defaultPosition","isOpaque","bool","orientation","oneOf","onScroll","func","size","trackColor","zIndex","getInitialState","props","_calculateState","componentWillReceiveProps","nextProps","controlledPosition","undefined","_setNextState","state","getDefaultProps","render","mainStyle","faceStyle","isHorizontal","isVertical","isActive","focused","isDragging","faceSize","mainClassName","faceClassName","scale","width","height","backgroundColor","createElement","onFocus","_onFocus","onBlur","_onBlur","onKeyDown","_onKeyDown","onMouseDown","_onMouseDown","onWheel","_wheelHandler","className","style","tabIndex","ref","componentWillMount","_onWheelX","_onWheelY","componentDidMount","_mouseMoveTracker","_onMouseMove","_onMouseMoveEnd","document","documentElement","_didScroll","componentWillUnmount","_nextState","releaseMouseMoves","scrollBy","delta","_onWheel","Math","round","maxPosition","deltaX","deltaY","event","nextState","target","refs","face","getDOMNode","nativeEvent","offsetX","layerX","offsetY","layerY","captureMouseMoves","focus","setState","keyCode","TAB","distance","direction","HOME","LEFT","RIGHT","SPACE","shiftKey","UP","DOWN","PAGE_UP","PAGE_DOWN","preventDefault","_blur","isMounted","blur","oops","willScroll","callback","SIZE","module","exports"],"mappings":"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","file":"Scrollbar.react.js","sourcesContent":["/**\n * Copyright (c) 2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Scrollbar.react\n * @typechecks\n */\n\nvar DOMMouseMoveTracker = require('./DOMMouseMoveTracker');\nvar Keys = require('./Keys');\nvar React = require('./React');\nvar ReactComponentWithPureRenderMixin = require('./ReactComponentWithPureRenderMixin');\nvar ReactWheelHandler = require('./ReactWheelHandler');\n\nvar cssVar = require('./cssVar');\nvar cx = require('./cx');\nvar emptyFunction = require('./emptyFunction');\nvar translateDOMPositionXY = require('./translateDOMPositionXY');\n\nvar PropTypes = React.PropTypes;\n\nvar UNSCROLLABLE_STATE = {\n  position: 0,\n  scrollable: false,\n};\n\nvar FACE_MARGIN = parseInt(cssVar('scrollbar-face-margin'), 10);\nvar FACE_MARGIN_2 = FACE_MARGIN * 2;\nvar FACE_SIZE_MIN = 30;\nvar KEYBOARD_SCROLL_AMOUNT = 40;\n\nvar _lastScrolledScrollbar = null;\n\nvar Scrollbar = React.createClass({displayName: \"Scrollbar\",\n  mixins: [ReactComponentWithPureRenderMixin],\n\n  propTypes: {\n    contentSize: PropTypes.number.isRequired,\n    defaultPosition: PropTypes.number,\n    isOpaque: PropTypes.bool,\n    orientation: PropTypes.oneOf(['vertical', 'horizontal']),\n    onScroll: PropTypes.func,\n    position: PropTypes.number,\n    size: PropTypes.number.isRequired,\n    trackColor: PropTypes.oneOf(['gray']),\n    zIndex: PropTypes.number,\n  },\n\n  getInitialState:function() /*object*/ {\n    var props = this.props;\n    return this._calculateState(\n      props.position || props.defaultPosition || 0,\n      props.size,\n      props.contentSize,\n      props.orientation\n    );\n  },\n\n  componentWillReceiveProps:function(/*object*/ nextProps) {\n    var controlledPosition = nextProps.position;\n    if (controlledPosition === undefined) {\n      this._setNextState(\n        this._calculateState(\n          this.state.position,\n          nextProps.size,\n          nextProps.contentSize,\n          nextProps.orientation\n        )\n      );\n    } else {\n      this._setNextState(\n        this._calculateState(\n          controlledPosition,\n          nextProps.size,\n          nextProps.contentSize,\n          nextProps.orientation\n        ),\n        nextProps\n      );\n    }\n  },\n\n  getDefaultProps:function() /*object*/ {\n    return {\n      defaultPosition: 0,\n      isOpaque: false,\n      onScroll: emptyFunction,\n      orientation: 'vertical',\n      zIndex: 99,\n    };\n  },\n\n  render:function() /*?object*/ {\n    if (!this.state.scrollable) {\n      return null;\n    }\n\n    var size = this.props.size;\n    var mainStyle;\n    var faceStyle;\n    var isHorizontal = this.state.isHorizontal;\n    var isVertical = !isHorizontal;\n    var isActive = this.state.focused || this.state.isDragging;\n    var faceSize = this.state.faceSize;\n    var isOpaque = this.props.isOpaque;\n\n    var mainClassName = cx({\n      'public/Scrollbar/main': true,\n      'public/Scrollbar/mainHorizontal': isHorizontal,\n      'public/Scrollbar/mainVertical': isVertical,\n      'Scrollbar/mainActive': isActive,\n      'Scrollbar/mainOpaque': isOpaque,\n    });\n\n    var faceClassName = cx({\n      'Scrollbar/face': true,\n      'Scrollbar/faceHorizontal': isHorizontal,\n      'Scrollbar/faceVertical': isVertical,\n      'Scrollbar/faceActive': isActive,\n    });\n\n    var position = this.state.position * this.state.scale + FACE_MARGIN;\n\n    if (isHorizontal) {\n      mainStyle = {\n        width: size,\n      };\n      faceStyle = {\n        width: faceSize - FACE_MARGIN_2\n      };\n      translateDOMPositionXY(faceStyle, position, 0);\n    } else {\n      mainStyle = {\n        height: size,\n      };\n      faceStyle = {\n        height: faceSize - FACE_MARGIN_2,\n      };\n      translateDOMPositionXY(faceStyle, 0, position);\n    }\n\n    mainStyle.zIndex = this.props.zIndex;\n\n    if (this.props.trackColor === 'gray') {\n      mainStyle.backgroundColor = cssVar('ads-cf-bg-color-gray');\n    }\n\n    return (\n      React.createElement(\"div\", {\n        onFocus: this._onFocus, \n        onBlur: this._onBlur, \n        onKeyDown: this._onKeyDown, \n        onMouseDown: this._onMouseDown, \n        onWheel: this._wheelHandler.onWheel, \n        className: mainClassName, \n        style: mainStyle, \n        tabIndex: 0}, \n        React.createElement(\"div\", {\n          ref: \"face\", \n          className: faceClassName, \n          style: faceStyle}\n        )\n      )\n    );\n  },\n\n  componentWillMount:function() {\n    var isHorizontal = this.props.orientation === 'horizontal';\n    var onWheel = isHorizontal ? this._onWheelX : this._onWheelY;\n\n    this._wheelHandler = new ReactWheelHandler(\n      onWheel,\n      isHorizontal, // Should hanlde horizontal scroll\n      !isHorizontal // Should handle vertical scroll\n    );\n  },\n\n  componentDidMount:function() {\n    this._mouseMoveTracker = new DOMMouseMoveTracker(\n      this._onMouseMove,\n      this._onMouseMoveEnd,\n      document.documentElement\n    );\n\n    if (this.props.position !== undefined &&\n      this.state.position !== this.props.position) {\n      this._didScroll();\n    }\n  },\n\n  componentWillUnmount:function() {\n    this._nextState = null;\n    this._mouseMoveTracker.releaseMouseMoves();\n    if (_lastScrolledScrollbar === this) {\n      _lastScrolledScrollbar = null;\n    }\n    delete this._mouseMoveTracker;\n  },\n\n  scrollBy:function(/*number*/ delta) {\n    this._onWheel(delta);\n  },\n\n  _calculateState:function(\n    /*?number*/ position,\n    /*number*/ size,\n    /*number*/ contentSize,\n    /*string*/ orientation\n    ) /*object*/ {\n\n    if (size < 1 || contentSize <= size) {\n      return UNSCROLLABLE_STATE;\n    }\n\n    position = position || 0;\n\n    // There are two types of positions here.\n    // 1) Phisical position: changed by mouse / keyboard\n    // 2) Logical position: changed by props.\n    // The logical position will be kept as as internal state and the `render()`\n    // function will translate it into physical position to render.\n\n    var isHorizontal = orientation === 'horizontal';\n    var scale = size / contentSize;\n    var faceSize = Math.round(size * scale);\n\n    if (faceSize < FACE_SIZE_MIN) {\n      scale = (size - FACE_SIZE_MIN) / (contentSize - FACE_SIZE_MIN);\n      faceSize = FACE_SIZE_MIN;\n    }\n\n    var scrollable = true;\n    var maxPosition = contentSize - size;\n\n    if (position < 0) {\n      position = 0;\n    } else if (position > maxPosition) {\n      position = maxPosition;\n    }\n\n    var isDragging = this._mouseMoveTracker ?\n      this._mouseMoveTracker.isDragging() :\n      false;\n\n    position = Math.round(position);\n    faceSize = Math.round(faceSize);\n\n    // This function should only return flat values that can be compared quiclky\n    // by `ReactComponentWithPureRenderMixin`.\n    return {\n      faceSize:faceSize,\n      isDragging:isDragging,\n      isHorizontal:isHorizontal,\n      position:position,\n      scale:scale,\n      scrollable:scrollable,\n    };\n  },\n\n  _onWheelY:function(/*number*/ deltaX, /*number*/ deltaY) {\n    this._onWheel(deltaY);\n  },\n\n  _onWheelX:function(/*number*/ deltaX, /*number*/ deltaY) {\n    this._onWheel(deltaX);\n  },\n\n  _onWheel:function(/*number*/ delta){\n    var props = this.props;\n\n    // The mouse may move faster then the animation frame does.\n    // Use `requestAnimationFrame` to avoid over-updating.\n    this._setNextState(\n      this._calculateState(\n        this.state.position + delta,\n        props.size,\n        props.contentSize,\n        props.orientation\n      )\n    );\n  },\n\n  _onMouseDown:function(/*object*/ event) {\n    var nextState;\n\n    if (event.target !== this.refs.face.getDOMNode()) {\n      // Both `offsetX` and `layerX` are non-standard DOM property but they are\n      // magically available for browsers somehow.\n      var nativeEvent = event.nativeEvent;\n      var position = this.state.isHorizontal ?\n        nativeEvent.offsetX || nativeEvent.layerX :\n        nativeEvent.offsetY || nativeEvent.layerY;\n\n      // MouseDown on the scroll-track directly, move the center of the\n      // scroll-face to the mouse position.\n      var props = this.props;\n      position = position / this.state.scale;\n      nextState = this._calculateState(\n        position - (this.state.faceSize * 0.5 / this.state.scale),\n        props.size,\n        props.contentSize,\n        props.orientation\n      );\n    } else {\n      nextState = {};\n    }\n\n    nextState.focused = true;\n    this._setNextState(nextState);\n\n    this._mouseMoveTracker.captureMouseMoves(event);\n    // Focus the node so it may receive keyboard event.\n    this.getDOMNode().focus();\n  },\n\n  _onMouseMove:function(/*number*/ deltaX, /*number*/ deltaY) {\n    var props = this.props;\n    var delta = this.state.isHorizontal ? deltaX : deltaY;\n    delta = delta / this.state.scale;\n\n    this._setNextState(\n      this._calculateState(\n        this.state.position + delta,\n        props.size,\n        props.contentSize,\n        props.orientation\n      )\n    );\n  },\n\n  _onMouseMoveEnd:function() {\n    this._nextState = null;\n    this._mouseMoveTracker.releaseMouseMoves();\n    this.setState({isDragging: false});\n  },\n\n  _onKeyDown:function(/*object*/ event) {\n    var keyCode = event.keyCode;\n\n    if (keyCode === Keys.TAB) {\n      // Let focus move off the scrollbar.\n      return;\n    }\n\n    var distance = KEYBOARD_SCROLL_AMOUNT;\n    var direction = 0;\n\n    if (this.state.isHorizontal) {\n      switch (keyCode) {\n        case Keys.HOME:\n          direction = -1;\n          distance = this.props.contentSize;\n          break;\n\n        case Keys.LEFT:\n          direction = -1;\n          break;\n\n        case Keys.RIGHT:\n          direction = 1;\n          break;\n\n        default:\n          return;\n      }\n    }\n\n    if (!this.state.isHorizontal) {\n      switch (keyCode) {\n        case Keys.SPACE:\n          if (event.shiftKey) {\n            direction = -1;\n          } else {\n            direction = 1;\n          }\n          break;\n\n        case Keys.HOME:\n          direction = -1;\n          distance = this.props.contentSize;\n          break;\n\n        case Keys.UP:\n          direction = -1;\n          break;\n\n        case Keys.DOWN:\n          direction = 1;\n          break;\n\n        case Keys.PAGE_UP:\n          direction = -1;\n          distance = this.props.size;\n          break;\n\n        case Keys.PAGE_DOWN:\n          direction = 1;\n          distance = this.props.size;\n          break;\n\n        default:\n          return;\n      }\n    }\n\n    event.preventDefault();\n\n    var props = this.props;\n    this._setNextState(\n      this._calculateState(\n        this.state.position + (distance * direction),\n        props.size,\n        props.contentSize,\n        props.orientation\n      )\n    );\n  },\n\n  _onFocus:function() {\n    this.setState({\n      focused: true,\n    });\n  },\n\n  _onBlur:function() {\n    this.setState({\n      focused: false,\n    });\n  },\n\n  _blur:function() {\n    if (this.isMounted()) {\n      try {\n        this._onBlur();\n        this.getDOMNode().blur();\n      } catch (oops) {\n        // pass\n      }\n    }\n  },\n\n  _setNextState:function(/*object*/ nextState, /*?object*/ props) {\n    props = props || this.props;\n    var controlledPosition = props.position;\n    var willScroll = this.state.position !== nextState.position;\n    if (controlledPosition === undefined) {\n      var callback = willScroll ? this._didScroll : undefined;\n      this.setState(nextState, callback);\n    } else if (controlledPosition === nextState.position) {\n      this.setState(nextState);\n    } else {\n      // Scrolling is controlled. Don't update the state and let the owner\n      // to update the scrollbar instead.\n      if (nextState.position !== undefined &&\n        nextState.position !== this.state.position) {\n        this.props.onScroll(nextState.position);\n      }\n      return;\n    }\n\n    if (willScroll && _lastScrolledScrollbar !== this) {\n      _lastScrolledScrollbar && _lastScrolledScrollbar._blur();\n      _lastScrolledScrollbar = this;\n    }\n  },\n\n  _didScroll:function() {\n    this.props.onScroll(this.state.position);\n  },\n});\n\nScrollbar.KEYBOARD_SCROLL_AMOUNT = KEYBOARD_SCROLL_AMOUNT;\nScrollbar.SIZE = parseInt(cssVar('scrollbar-size'), 10);\n\nmodule.exports = Scrollbar;\n"]}