{"version":3,"sources":["../../../../../../src/hoverMap/components/examples/helpers/custom_distance.js"],"names":["customDistanceToMouse","pt","mousePos","markerProps","K_SCALE_NORMAL","K_MARKER_HEIGHT","K_MARKER_WEIGHT_PT","scale","x","y","scaleNormalized","Math","min","K_MIN_DIST_MIN_KOEF","distKoef","sqrt"],"mappings":";;;;;QACgBA,qB,GAAAA,qB;AAAT,SAASA,qBAAT,CAA+BC,EAA/B,EAAmCC,QAAnC,EAA6CC,WAA7C,EAA0D;AAC/D,MAAMC,iBAAiB,IAAvB;;AAEA,MAAMC,kBAAkB,EAAxB;AACA;AACA,MAAMC,qBAAqBD,kBAAkB,GAA7C;AACA;AACA,MAAME,QAAQJ,YAAYI,KAA1B;AACA,MAAMC,IAAIP,GAAGO,CAAb;AACA,MAAMC,IAAIR,GAAGQ,CAAH,GAAOH,qBAAqBC,KAAtC;;AAEA,MAAMG,kBAAkBC,KAAKC,GAAL,CAASL,QAAQH,cAAjB,EAAiC,CAAjC,CAAxB;AACA,MAAMS,sBAAsB,GAA5B;;AAEA,MAAMC,WAAW,IAAIJ,mBAAmBG,sBAAsB,CAAzC,CAArB;AACA,SAAOC,WAAWH,KAAKI,IAAL,CAAU,CAACP,IAAIN,SAASM,CAAd,KAAoBA,IAAIN,SAASM,CAAjC,IAAsC,CAACC,IAAIP,SAASO,CAAd,KAAoBA,IAAIP,SAASO,CAAjC,CAAhD,CAAlB;AACD","file":"custom_distance.js","sourcesContent":["\nexport function customDistanceToMouse(pt, mousePos, markerProps) {\n  const K_SCALE_NORMAL = 0.65;\n\n  const K_MARKER_HEIGHT = 60;\n  // marker is more tall at top, so calc distance to some point at marker top\n  const K_MARKER_WEIGHT_PT = K_MARKER_HEIGHT * 0.7;\n  // distance to markers depends on scale so hover on big markers is more probable\n  const scale = markerProps.scale;\n  const x = pt.x;\n  const y = pt.y - K_MARKER_WEIGHT_PT * scale;\n\n  const scaleNormalized = Math.min(scale / K_SCALE_NORMAL, 1);\n  const K_MIN_DIST_MIN_KOEF = 0.6;\n\n  const distKoef = 1 + scaleNormalized * (K_MIN_DIST_MIN_KOEF - 1);\n  return distKoef * Math.sqrt((x - mousePos.x) * (x - mousePos.x) + (y - mousePos.y) * (y - mousePos.y));\n}\n"]}