{"version":3,"sources":["../../../../src/hoverMap/middlewares/promise_middleware.js"],"names":["promiseMiddleware","next","action","promise","types","rest","REQUEST","SUCCESS","FAILURE","type","then","result","error"],"mappings":";;;;;;;;;;kBAEwBA,iB;;;;AAFxB;;AAEe,SAASA,iBAAT,GAA6B;AAC1C,SAAO,UAACC,IAAD;AAAA,WAAU,UAACC,MAAD,EAAY;AAAA,UACnBC,OADmB,GACSD,MADT,CACnBC,OADmB;AAAA,UACVC,KADU,GACSF,MADT,CACVE,KADU;AAAA,UACAC,IADA,4BACSH,MADT;;AAE3B,UAAI,CAACC,OAAL,EAAc;AACZ,eAAOF,KAAKC,MAAL,CAAP;AACD;;AAJ0B,kCAMSE,KANT;AAAA,UAMpBE,OANoB;AAAA,UAMXC,OANW;AAAA,UAMFC,OANE;;AAO3BP,wBAAUI,IAAV,IAAgBI,MAAMH,OAAtB;AACA,aAAOH,QAAQO,IAAR,CACL,UAACC,MAAD;AAAA,eAAYV,kBAAUI,IAAV,IAAgBI,MAAMF,OAAtB,IAAkCI,MAAlC,EAAZ;AAAA,OADK,EAEL,UAACC,KAAD;AAAA,eAAWX,kBAAUI,IAAV,IAAgBO,YAAhB,EAAuBH,MAAMD,OAA7B,IAAX;AAAA,OAFK,CAAP;AAID,KAZM;AAAA,GAAP;AAaD","file":"promise_middleware.js","sourcesContent":["// promiseMiddleware (c)gaearon https://github.com/gaearon/redux/issues/99#issuecomment-112212639\n\nexport default function promiseMiddleware() {\n  return (next) => (action) => {\n    const { promise, types, ...rest } = action;\n    if (!promise) {\n      return next(action);\n    }\n\n    const [REQUEST, SUCCESS, FAILURE] = types;\n    next({ ...rest, type: REQUEST});\n    return promise.then(\n      (result) => next({ ...rest, type: SUCCESS, ...result}),\n      (error) => next({ ...rest, error, type: FAILURE })\n    );\n  };\n}\n"]}