{"version":3,"sources":["../../../../src/hoverMap/actions/link_actions.js"],"names":["gotoLink","gotoLinkWParams","routeTemplatesCache_","url","type","link","params","routeContextParams","defaultParams","undefined","linkTemplate","encode_link_object_properties","Object","assign","toJS","Error"],"mappings":";;;;;QAOgBA,Q,GAAAA,Q;QAOAC,e,GAAAA,e;;AAdhB;;;;AACA;;;;AACA;;;;AAEA,IAAMC,uBAAuB,EAA7B;;AAGO,SAASF,QAAT,CAAkBG,GAAlB,EAAuB;AAC5B,SAAO;AACLC,wCADK;AAELD;AAFK,GAAP;AAID;;AAEM,SAASF,eAAT,CAAyBI,IAAzB,EAA+BC,MAA/B,EAAuCC,kBAAvC,EAA2DC,aAA3D,EAA0E;AAC/E,MAAID,sBAAsBF,SAASI,SAA/B,IAA4C,OAAOJ,IAAP,KAAgB,QAAhE,EAA0E;AACxE,QAAI,EAAEA,QAAQH,oBAAV,CAAJ,EAAqC;AACnCA,2BAAqBG,IAArB,IAA6B,8BAAcA,IAAd,CAA7B;AACD;;AAED,QAAMK,eAAeR,qBAAqBG,IAArB,CAArB;AACA,QAAMF,MAAMO,aACV,eAAUC,6BAAV,CACEC,OAAOC,MAAP,CACE,EADF,EAEEL,iBAAiB,EAFnB,EAGED,mBAAmBO,IAAnB,EAHF,EAIER,UAAU,EAJZ,CADF,CADU,CAAZ;;AASA,WAAO;AACLF,0CADK;AAELD;AAFK,KAAP;AAID;;AAED,QAAM,IAAIY,KAAJ,CAAU,mBAAV,CAAN;AACD","file":"link_actions.js","sourcesContent":["import routeTemplate from '../utils/route_template.js';\nimport utilsText from '../utils/text.js';\nimport {SWITCH_LINK} from '../consts/link_action_types.js';\n\nconst routeTemplatesCache_ = {};\n\n\nexport function gotoLink(url) {\n  return {\n    type: SWITCH_LINK,\n    url\n  };\n}\n\nexport function gotoLinkWParams(link, params, routeContextParams, defaultParams) {\n  if (routeContextParams && link !== undefined && typeof link === 'string') {\n    if (!(link in routeTemplatesCache_)) {\n      routeTemplatesCache_[link] = routeTemplate(link);\n    }\n\n    const linkTemplate = routeTemplatesCache_[link];\n    const url = linkTemplate(\n      utilsText.encode_link_object_properties(\n        Object.assign(\n          {},\n          defaultParams || {},\n          routeContextParams.toJS(),\n          params || {}\n        )));\n\n    return {\n      type: SWITCH_LINK,\n      url\n    };\n  }\n\n  throw new Error('unrecognized link');\n}\n"]}